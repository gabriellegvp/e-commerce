<button id="checkout-button">Checkout</button>

<script src="https://js.stripe.com/v3/"></script>
<script>
    var stripe = Stripe('your_public_key');
    var checkoutButton = document.getElementById('checkout-button');

    checkoutButton.addEventListener('click', function () {
        fetch('/checkout/', {method: 'POST'})
            .then(function (response) {
                return response.json();
            })
            .then(function (sessionId) {
                return stripe.redirectToCheckout({ sessionId: sessionId.url });
            })
            .catch(function (error) {
                console.error("Error:", error);
            });
    });
</script>
